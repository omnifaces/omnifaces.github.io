<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>FileServlet (OmniFaces 5.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: org.omnifaces, package: org.omnifaces.servlet, class: FileServlet">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/FileServlet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">org.omnifaces</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.omnifaces.servlet</a></div>
<h1 title="Class FileServlet" class="title">Class FileServlet</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html" title="class or interface in jakarta.servlet" class="external-link">jakarta.servlet.GenericServlet</a>
<div class="inheritance"><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html" title="class or interface in jakarta.servlet.http" class="external-link">jakarta.servlet.http.HttpServlet</a>
<div class="inheritance">org.omnifaces.servlet.FileServlet</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/Servlet.html" title="class or interface in jakarta.servlet" class="external-link">Servlet</a></code>, <code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/ServletConfig.html" title="class or interface in jakarta.servlet" class="external-link">ServletConfig</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">FileServlet</span>
<span class="extends-implements">extends <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServlet</a></span></div>
<div class="block"><p>
 The well known "<a href="https://balusc.omnifaces.org/2009/02/fileservlet-supporting-resume-and.html">BalusC FileServlet</a>",
 as an abstract template, slightly refactored, rewritten and modernized with a.o. fast NIO stuff instead of legacy
 RandomAccessFile. GZIP support is stripped off as that can be done application wide via <a href="../filter/CompressedResponseFilter.html" title="class in org.omnifaces.filter"><code>CompressedResponseFilter</code></a>.
 <p>
 This servlet properly deals with <code>ETag</code>, <code>If-None-Match</code> and <code>If-Modified-Since</code>
 caching requests, hereby improving browser caching. This servlet also properly deals with <code>Range</code> and
 <code>If-Range</code> ranging requests (<a href="https://datatracker.ietf.org/doc/html/rfc7233">RFC 7233</a>), which is required
 by most media players for proper audio/video streaming, and by webbrowsers and for a proper resume of an paused
 download, and by download accelerators to be able to request smaller parts simultaneously. This servlet is ideal when
 you have large files like media files placed outside the web application and you can't use the default servlet.

 <h2>Usage</h2>
 <p>
 Just extend this class and override the <a href="#getFile(jakarta.servlet.http.HttpServletRequest)"><code>getFile(HttpServletRequest)</code></a> method to return the desired file. If
 you want to trigger a HTTP 400 "Bad Request" error, simply throw <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link"><code>IllegalArgumentException</code></a>. If you want to
 trigger a HTTP 404 "Not Found" error, simply return <code>null</code>, or a non-existent file.
 <p>
 Here's a concrete example which serves it via an URL like <code>/media/foo.ext</code>:

 <pre>
 &#64;WebServlet("/media/*")
 public class MediaFileServlet extends FileServlet {

     private File folder;

     &#64;Override
     public void init() throws ServletException {
         folder = new File("/var/webapp/media");
     }

     &#64;Override
     protected File getFile(HttpServletRequest request) {
         String pathInfo = request.getPathInfo();

         if (pathInfo == null || pathInfo.isEmpty() || "/".equals(pathInfo)) {
             throw new IllegalArgumentException();
         }

         return new File(folder, pathInfo);
     }

 }
 </pre>
 <p>
 You can embed it in e.g. HTML5 video tag as below:
 <pre>
 &lt;video src="#{request.contextPath}/media/video.mp4" controls="controls" /&gt;
 </pre>

 <h2>Customizing <code>FileServlet</code></h2>
 <p>
 If more fine grained control is desired for handling "file not found" error, determining the cache expire time, the
 content type, whether the file should be supplied as an attachment and the attachment's file name, then the developer
 can opt to override one or more of the following protected methods:
 <ul>
 <li><a href="#handleFileNotFound(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)"><code>handleFileNotFound(HttpServletRequest, HttpServletResponse)</code></a>
 <li><a href="#getExpireTime(jakarta.servlet.http.HttpServletRequest,java.io.File)"><code>getExpireTime(HttpServletRequest, File)</code></a>
 <li><a href="#getContentType(jakarta.servlet.http.HttpServletRequest,java.io.File)"><code>getContentType(HttpServletRequest, File)</code></a>
 <li><a href="#isAttachment(jakarta.servlet.http.HttpServletRequest,java.lang.String)"><code>isAttachment(HttpServletRequest, String)</code></a>
 <li><a href="#getAttachmentName(jakarta.servlet.http.HttpServletRequest,java.io.File)"><code>getAttachmentName(HttpServletRequest, File)</code></a>
 </ul>

 <p><strong>See also</strong>:
 <ul>
 <li><a href="https://stackoverflow.com/q/13588149/157882">How to stream audio/video files such as MP3, MP4, AVI, etc using a Servlet</a>
 <li><a href="https://stackoverflow.com/a/29991447/157882">Abstract template for a static resource servlet</a>
 </ul></div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.2</dd>
<dt>Author:</dt>
<dd>Bauke Scholtz</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../serialized-form.html#org.omnifaces.servlet.FileServlet">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-jakarta.servlet.http.HttpServlet">Fields inherited from class&nbsp;jakarta.servlet.http.<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServlet</a></h3>
<code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#LEGACY_DO_HEAD" title="class or interface in jakarta.servlet.http" class="external-link">LEGACY_DO_HEAD</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">FileServlet</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doGet(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">doGet</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletResponse.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletResponse</a>&nbsp;response)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#doHead(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">doHead</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletResponse.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletResponse</a>&nbsp;response)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAttachmentName(jakarta.servlet.http.HttpServletRequest,java.io.File)" class="member-name-link">getAttachmentName</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the file name to be used in <code>Content-Disposition</code> header.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getContentType(jakarta.servlet.http.HttpServletRequest,java.io.File)" class="member-name-link">getContentType</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the content type associated with the given HTTP servlet request and file.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getExpireTime(jakarta.servlet.http.HttpServletRequest,java.io.File)" class="member-name-link">getExpireTime</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns how long the resource may be cached by the client before it expires, in seconds.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>protected abstract <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getFile(jakarta.servlet.http.HttpServletRequest)" class="member-name-link">getFile</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the file associated with the given HTTP servlet request.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleFileNotFound(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">handleFileNotFound</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletResponse.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletResponse</a>&nbsp;response)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the case when the file is not found.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isAttachment(jakarta.servlet.http.HttpServletRequest,java.lang.String)" class="member-name-link">isAttachment</a><wbr>(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;contentType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if we must force a "Save As" dialog based on the given HTTP servlet request and content
 type as obtained from <a href="#getContentType(jakarta.servlet.http.HttpServletRequest,java.io.File)"><code>getContentType(HttpServletRequest, File)</code></a>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-jakarta.servlet.http.HttpServlet">Methods inherited from class&nbsp;jakarta.servlet.http.<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServlet</a></h3>
<code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doDelete(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doDelete</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doOptions(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doOptions</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doPatch(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doPatch</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doPost(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doPost</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doPut(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doPut</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doTrace(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doTrace</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#getLastModified(jakarta.servlet.http.HttpServletRequest)" title="class or interface in jakarta.servlet.http" class="external-link">getLastModified</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#init(jakarta.servlet.ServletConfig)" title="class or interface in jakarta.servlet.http" class="external-link">init</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#isSensitiveHeader(java.lang.String)" title="class or interface in jakarta.servlet.http" class="external-link">isSensitiveHeader</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#service(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">service</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#service(jakarta.servlet.ServletRequest,jakarta.servlet.ServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">service</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-jakarta.servlet.GenericServlet">Methods inherited from class&nbsp;jakarta.servlet.<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html" title="class or interface in jakarta.servlet" class="external-link">GenericServlet</a></h3>
<code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#destroy()" title="class or interface in jakarta.servlet" class="external-link">destroy</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#getInitParameter(java.lang.String)" title="class or interface in jakarta.servlet" class="external-link">getInitParameter</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#getInitParameterNames()" title="class or interface in jakarta.servlet" class="external-link">getInitParameterNames</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#getServletConfig()" title="class or interface in jakarta.servlet" class="external-link">getServletConfig</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#getServletContext()" title="class or interface in jakarta.servlet" class="external-link">getServletContext</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#getServletInfo()" title="class or interface in jakarta.servlet" class="external-link">getServletInfo</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#getServletName()" title="class or interface in jakarta.servlet" class="external-link">getServletName</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#init()" title="class or interface in jakarta.servlet" class="external-link">init</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#log(java.lang.String)" title="class or interface in jakarta.servlet" class="external-link">log</a>, <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/GenericServlet.html#log(java.lang.String,java.lang.Throwable)" title="class or interface in jakarta.servlet" class="external-link">log</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>FileServlet</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">FileServlet</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="doHead(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)">
<h3>doHead</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doHead</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletResponse.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletResponse</a>&nbsp;response)</span>
               throws <span class="exceptions"><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/ServletException.html" title="class or interface in jakarta.servlet" class="external-link">ServletException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doHead(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doHead</a></code>&nbsp;in class&nbsp;<code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServlet</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/ServletException.html" title="class or interface in jakarta.servlet" class="external-link">ServletException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doGet(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)">
<h3>doGet</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">doGet</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletResponse.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletResponse</a>&nbsp;response)</span>
              throws <span class="exceptions"><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/ServletException.html" title="class or interface in jakarta.servlet" class="external-link">ServletException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html#doGet(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" title="class or interface in jakarta.servlet.http" class="external-link">doGet</a></code>&nbsp;in class&nbsp;<code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServlet.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServlet</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/ServletException.html" title="class or interface in jakarta.servlet" class="external-link">ServletException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFile(jakarta.servlet.http.HttpServletRequest)">
<h3>getFile</h3>
<div class="member-signature"><span class="modifiers">protected abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></span>&nbsp;<span class="element-name">getFile</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request)</span></div>
<div class="block">Returns the file associated with the given HTTP servlet request.
 If this method throws <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link"><code>IllegalArgumentException</code></a>, then the servlet will return a HTTP 400 error.
 If this method returns <code>null</code>, or if <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#isFile()" title="class or interface in java.io" class="external-link"><code>File.isFile()</code></a> returns <code>false</code>, then the
 servlet will invoke <a href="#handleFileNotFound(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)"><code>handleFileNotFound(HttpServletRequest, HttpServletResponse)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The involved HTTP servlet request.</dd>
<dt>Returns:</dt>
<dd>The file associated with the given HTTP servlet request.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - When the request is mangled in such way that it's not recognizable as a valid
 file request. The servlet will then return a HTTP 400 error.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleFileNotFound(jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)">
<h3>handleFileNotFound</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleFileNotFound</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletResponse.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletResponse</a>&nbsp;response)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Handles the case when the file is not found.
 <p>
 The default implementation sends a HTTP 404 error.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The involved HTTP servlet request.</dd>
<dd><code>response</code> - The involved HTTP servlet response.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - When something fails at I/O level.</dd>
<dt>Since:</dt>
<dd>2.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExpireTime(jakarta.servlet.http.HttpServletRequest,java.io.File)">
<h3>getExpireTime</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getExpireTime</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<div class="block">Returns how long the resource may be cached by the client before it expires, in seconds.
 <p>
 The default implementation returns 30 days in seconds.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The involved HTTP servlet request.</dd>
<dd><code>file</code> - The involved file.</dd>
<dt>Returns:</dt>
<dd>The client cache expire time in seconds (not milliseconds!).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getContentType(jakarta.servlet.http.HttpServletRequest,java.io.File)">
<h3>getContentType</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getContentType</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<div class="block">Returns the content type associated with the given HTTP servlet request and file.
 <p>
 The default implementation delegates <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#getName()" title="class or interface in java.io" class="external-link"><code>File.getName()</code></a> to <a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/ServletContext.html#getMimeType(java.lang.String)" title="class or interface in jakarta.servlet" class="external-link"><code>ServletContext.getMimeType(String)</code></a> with a
 fallback default value of <code>application/octet-stream</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The involved HTTP servlet request.</dd>
<dd><code>file</code> - The involved file.</dd>
<dt>Returns:</dt>
<dd>The content type associated with the given HTTP servlet request and file.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isAttachment(jakarta.servlet.http.HttpServletRequest,java.lang.String)">
<h3>isAttachment</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAttachment</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;contentType)</span></div>
<div class="block">Returns <code>true</code> if we must force a "Save As" dialog based on the given HTTP servlet request and content
 type as obtained from <a href="#getContentType(jakarta.servlet.http.HttpServletRequest,java.io.File)"><code>getContentType(HttpServletRequest, File)</code></a>.
 <p>
 The default implementation will return <code>true</code> if the content type does <strong>not</strong> start with
 <code>text</code> or <code>image</code>, and the <code>Accept</code> request header is either <code>null</code>
 or does not match the given content type.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The involved HTTP servlet request.</dd>
<dd><code>contentType</code> - The content type of the involved file.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if we must force a "Save As" dialog based on the given HTTP servlet request and content
 type.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAttachmentName(jakarta.servlet.http.HttpServletRequest,java.io.File)">
<h3>getAttachmentName</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAttachmentName</span><wbr><span class="parameters">(<a href="https://jakarta.ee/specifications/platform/11/apidocs/jakarta/servlet/http/HttpServletRequest.html" title="class or interface in jakarta.servlet.http" class="external-link">HttpServletRequest</a>&nbsp;request,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
<div class="block">Returns the file name to be used in <code>Content-Disposition</code> header.
 This does not need to be URL-encoded as this will be taken care of.
 <p>
 The default implementation returns <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#getName()" title="class or interface in java.io" class="external-link"><code>File.getName()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>request</code> - The involved HTTP servlet request.</dd>
<dd><code>file</code> - The involved file.</dd>
<dt>Returns:</dt>
<dd>The file name to be used in <code>Content-Disposition</code> header.</dd>
<dt>Since:</dt>
<dd>2.3</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2012&#x2013;2025 <a href="https://omnifaces.org">OmniFaces</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
