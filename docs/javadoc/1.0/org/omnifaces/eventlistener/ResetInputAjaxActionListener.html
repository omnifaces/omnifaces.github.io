<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Fri Jun 01 15:04:32 GMT-04:00 2012 -->
<title>ResetInputAjaxActionListener</title>
<meta name="date" content="2012-06-01">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ResetInputAjaxActionListener";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ResetInputAjaxActionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html" title="class in org.omnifaces.eventlistener"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/omnifaces/eventlistener/ResetInputAjaxActionListener.html" target="_top">Frames</a></li>
<li><a href="ResetInputAjaxActionListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.omnifaces.eventlistener</div>
<h2 title="Class ResetInputAjaxActionListener" class="title">Class ResetInputAjaxActionListener</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html" title="class in org.omnifaces.eventlistener">org.omnifaces.eventlistener.DefaultPhaseListener</a></li>
<li>
<ul class="inheritance">
<li>org.omnifaces.eventlistener.ResetInputAjaxActionListener</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, java.util.EventListener, javax.faces.event.ActionListener, javax.faces.event.FacesListener, javax.faces.event.PhaseListener</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ResetInputAjaxActionListener</span>
extends <a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html" title="class in org.omnifaces.eventlistener">DefaultPhaseListener</a>
implements javax.faces.event.ActionListener</pre>
<div class="block">Use this action listener when you want to partially (ajax) render input fields which are not executed during submit,
 but which are possibly in an invalidated state because of a validation failure during a previous request. Those
 input fields will be resetted so that they are not in an invalidated state anymore.
 <p>
 How does it work? First, here are some JSF facts:
 <ul>
 <li>When JSF validation succeeds for a particular input component during the validations phase, then the submitted
 value is set to <code>null</code> and the validated value is set as local value of the input component.
 <li>When JSF validation fails for a particular input component during the validations phase, then the submitted
 value is kept in the input component.
 <li>When at least one input component is invalid after the validations phase, then JSF will not update the model
 values for any of the input components. JSF will directly proceed to render response phase.
 <li>When JSF renders input components, then it will first test if the submitted value is not <code>null</code> and
 then display it, else if the local value is not <code>null</code> and then display it, else it will display the
 model value.
 <li>As long as you're interacting with the same JSF view, you're dealing with the same component state.
 </ul>
 <p>
 So, when the validation has failed for a particular form submit and you happen to need to update the values of input
 fields by a different ajax action or even a different ajax form (e.g. populating a field depending on a dropdown
 selection or the result of some modal dialog form, etc), then you basically need to reset the target input
 components in order to get JSF to display the model value which was edited during invoke action. Otherwise JSF will
 still display its local value as it was during the validation failure and keep them in an invalidated state.
 <p>
 The <a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html" title="class in org.omnifaces.eventlistener"><code>ResetInputAjaxActionListener</code></a> is designed to solve exactly this problem. There are basically three ways
 to configure and use it:
 <ul>
 <li><p>Register it as <code>&lt;phase-listener&gt;</code> in <tt>faces-config.xml</tt>. It'll be applied
 to <strong>every single</strong> ajax action throughout the webapp, on both <code>UIInput</code> and
 <code>UICommand</code> components.
 <pre>
 &lt;lifecycle&gt;
   &lt;phase-listener&gt;org.omnifaces.eventlistener.ResetInputAjaxActionListener&lt;/phase-listener&gt;
 &lt;/lifecycle&gt;
 </pre>
 <li><p><i>Or</i> register it as <code>&lt;action-listener&gt;</code> in <tt>faces-config.xml</tt>. It'll
 <strong>only</strong> be applied to ajax actions which are invoked by an <code>UICommand</code> component such as
 <code>&lt;h:commandButton&gt;</code> and <code>&lt;h:commandLink&gt;</code>.
 <pre>
 &lt;application&gt;
   &lt;action-listener&gt;org.omnifaces.eventlistener.ResetInputAjaxActionListener&lt;/action-listener&gt;
 &lt;/application&gt;
 </pre>
 <li><p><i>Or</i> register it as <code>&lt;f:actionListener&gt;</code> on the invidivual <code>UICommand</code>
 components where this action listener is absolutely necessary to solve the concrete problem. Note that it isn't
 possible to register it on the individual <code>UIInput</code> components using the standard JSF tags.
 <pre>
 &lt;h:commandButton value="Update" action="#{bean.updateOtherInputs}"&gt;
   &lt;f:ajax execute="currentInputs" render="otherInputs" /&gt;
   &lt;f:actionListener type="org.omnifaces.eventlistener.ResetInputAjaxActionListener" /&gt;
 &lt;/h:commandButton&gt;
 </pre>
 </ul>
 <p>
 This works with standard JSF, PrimeFaces and RichFaces actions. Only for RichFaces there's a reflection hack,
 because its <code>ExtendedPartialViewContextImpl</code> <i>always</i> returns an empty collection for render IDs.
 See also <a href="https://issues.jboss.org/browse/RF-11112">RF issue 11112</a>.
 <p>
 Design notice: being a phase listener was mandatory in order to be able to hook on every single ajax action as
 standard JSF API does not (seem to?) offer any ways to register some kind of <code>AjaxBehaviorListener</code> in an
 application wide basis, let alone on a per <code>&lt;f:ajax&gt;</code> tag basis, so that it also get applied to
 ajax actions in <code>UIInput</code> components. There are ways with help of <code>SystemEventListener</code>, but it
 ended up to be too clumsy.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Bauke Scholtz</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../serialized-form.html#org.omnifaces.eventlistener.ResetInputAjaxActionListener">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html#ResetInputAjaxActionListener()">ResetInputAjaxActionListener</a></strong>()</code>
<div class="block">Construct a new reset input ajax action listener.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html#ResetInputAjaxActionListener(javax.faces.event.ActionListener)">ResetInputAjaxActionListener</a></strong>(javax.faces.event.ActionListener&nbsp;wrapped)</code>
<div class="block">Construct a new reset input ajax action listener around the given wrapped action listener.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html#beforePhase(javax.faces.event.PhaseEvent)">beforePhase</a></strong>(javax.faces.event.PhaseEvent&nbsp;event)</code>
<div class="block">Delegate to the <a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html#processAction(javax.faces.event.ActionEvent)"><code>processAction(ActionEvent)</code></a> method when this action listener is been registered as a
 phase listener so that it get applied on <strong>all</strong> ajax requests.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html#processAction(javax.faces.event.ActionEvent)">processAction</a></strong>(javax.faces.event.ActionEvent&nbsp;event)</code>
<div class="block">Handle the reset input action as follows, only and only if the current request is an ajax request and the
 <code>PartialViewContext.getRenderIds()</code> does not return an empty collection nor is the same as
 <code>PartialViewContext.getExecuteIds()</code>:
 
 Collect all <code>EditableValueHolder</code> components based on <code>PartialViewContext.getRenderIds()</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.omnifaces.eventlistener.DefaultPhaseListener">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.omnifaces.eventlistener.<a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html" title="class in org.omnifaces.eventlistener">DefaultPhaseListener</a></h3>
<code><a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html#afterPhase(javax.faces.event.PhaseEvent)">afterPhase</a>, <a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html#getPhaseId()">getPhaseId</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ResetInputAjaxActionListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ResetInputAjaxActionListener</h4>
<pre>public&nbsp;ResetInputAjaxActionListener()</pre>
<div class="block">Construct a new reset input ajax action listener. This constructor will be used when specifying the action
 listener by <code>&lt;f:actionListener&gt;</code> or when registering as <code>&lt;phase-listener&gt;</code> in
 <tt>faces-config.xml</tt>.</div>
</li>
</ul>
<a name="ResetInputAjaxActionListener(javax.faces.event.ActionListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ResetInputAjaxActionListener</h4>
<pre>public&nbsp;ResetInputAjaxActionListener(javax.faces.event.ActionListener&nbsp;wrapped)</pre>
<div class="block">Construct a new reset input ajax action listener around the given wrapped action listener. This constructor
 will be used when registering as <code>&lt;action-listener&gt;</code> in <tt>faces-config.xml</tt>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>wrapped</code> - The wrapped action listener.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="beforePhase(javax.faces.event.PhaseEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforePhase</h4>
<pre>public&nbsp;void&nbsp;beforePhase(javax.faces.event.PhaseEvent&nbsp;event)</pre>
<div class="block">Delegate to the <a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html#processAction(javax.faces.event.ActionEvent)"><code>processAction(ActionEvent)</code></a> method when this action listener is been registered as a
 phase listener so that it get applied on <strong>all</strong> ajax requests.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>beforePhase</code>&nbsp;in interface&nbsp;<code>javax.faces.event.PhaseListener</code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html#beforePhase(javax.faces.event.PhaseEvent)">beforePhase</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html" title="class in org.omnifaces.eventlistener">DefaultPhaseListener</a></code></dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/omnifaces/eventlistener/ResetInputAjaxActionListener.html#processAction(javax.faces.event.ActionEvent)"><code>processAction(ActionEvent)</code></a></dd></dl>
</li>
</ul>
<a name="processAction(javax.faces.event.ActionEvent)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>processAction</h4>
<pre>public&nbsp;void&nbsp;processAction(javax.faces.event.ActionEvent&nbsp;event)
                   throws javax.faces.event.AbortProcessingException</pre>
<div class="block"><p>Handle the reset input action as follows, only and only if the current request is an ajax request and the
 <code>PartialViewContext.getRenderIds()</code> does not return an empty collection nor is the same as
 <code>PartialViewContext.getExecuteIds()</code>:
 <ul>
 <li>Collect all <code>EditableValueHolder</code> components based on <code>PartialViewContext.getRenderIds()</code>.
 <li>Remove all components covered by <code>PartialViewContext.getExecuteIds()</code> from this collection.
 <li>Invoke <code>EditableValueHolder.resetValue()</code> on the remaining components of this collection.
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>processAction</code>&nbsp;in interface&nbsp;<code>javax.faces.event.ActionListener</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - When one of the client IDs resolved to a <code>null</code> component. This
 would however indicate a bug in the concrete <code>PartialViewContext</code> implementation which is been used.</dd>
<dd><code>javax.faces.event.AbortProcessingException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ResetInputAjaxActionListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/omnifaces/eventlistener/DefaultPhaseListener.html" title="class in org.omnifaces.eventlistener"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/omnifaces/eventlistener/ResetInputAjaxActionListener.html" target="_top">Frames</a></li>
<li><a href="ResetInputAjaxActionListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
