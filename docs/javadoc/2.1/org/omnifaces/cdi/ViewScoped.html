<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ViewScoped (OmniFaces 2.1 API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ViewScoped (OmniFaces 2.1 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ViewScoped.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/omnifaces/cdi/Startup.html" title="annotation in org.omnifaces.cdi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/omnifaces/cdi/ViewScoped.html" target="_top">Frames</a></li>
<li><a href="ViewScoped.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.omnifaces.cdi</div>
<h2 title="Annotation Type ViewScoped" class="title">Annotation Type ViewScoped</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Inherited.html?is-external=true" title="class or interface in java.lang.annotation">@Inherited</a>
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation">@Documented</a>
 <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/NormalScope.html?is-external=true" title="class or interface in javax.enterprise.context">@NormalScope</a>(<a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/NormalScope.html?is-external=true#passivating--" title="class or interface in javax.enterprise.context">passivating</a>=true)
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>={<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="class or interface in java.lang.annotation">TYPE</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/ElementType.html?is-external=true#FIELD" title="class or interface in java.lang.annotation">FIELD</a>})
public @interface <span class="memberNameLabel">ViewScoped</span></pre>
<div class="block"><p>
 The CDI view scope annotation, intented for use in JSF 2.0/2.1. Just use it the usual way as all other CDI scopes.
 Watch out with IDE autocomplete on import that you don't accidentally import JSF's own one.
 <pre>
 import javax.inject.Named;
 import org.omnifaces.cdi.ViewScoped;

 &#64;Named
 &#64;ViewScoped
 public class OmniCDIViewScopedBean implements Serializable {}
 </pre>
 <p>
 Please note that the bean <strong>must</strong> implement <a href="http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io"><code>Serializable</code></a>, otherwise the CDI implementation
 will throw an exception about the bean not being passivation capable.
 <p>
 In JSF 2.2, you're supposed to use JSF's own new CDI compatible <code>javax.faces.view.ViewScoped</code> instead;
 not because this CDI view scope annotation is so bad, in contrary, but just because using the standard solutions
 should be preferred over alternative solutions if they solve the same problem.
 <p>
 Under the covers, CDI managed beans with this scope are via <a href="../../../org/omnifaces/cdi/viewscope/ViewScopeManager.html" title="class in org.omnifaces.cdi.viewscope"><code>ViewScopeManager</code></a> stored in the session scope by
 an <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util"><code>UUID</code></a> based key which is referenced in JSF's own view map as available by <a href="https://docs.oracle.com/javaee/7/api/javax/faces/component/UIViewRoot.html?is-external=true#getViewMap--" title="class or interface in javax.faces.component"><code>UIViewRoot.getViewMap()</code></a>.
 They are not stored in the JSF view map itself as that would be rather expensive in case of client side state saving.
 <p>
 In effects, this CDI view scope annotation has exactly the same lifecycle as JSF's own view scope. One important
 thing to know and understand is that any <a href="https://docs.oracle.com/javaee/7/api/javax/annotation/PreDestroy.html?is-external=true" title="class or interface in javax.annotation"><code>PreDestroy</code></a> annotated method on a CDI view scoped bean isn't
 <em>immediately</em> invoked in all cases when the view scope ends. This is not specific to CDI, but to JSF itself.
 For detail, see the following JSF issues related to the matter:
 <ul>
 <li><a href="https://java.net/jira/browse/JAVASERVERFACES-1351">Mojarra issue 1351</a>
 <li><a href="https://java.net/jira/browse/JAVASERVERFACES-1839">Mojarra issue 1839</a>
 <li><a href="https://java.net/jira/browse/JAVASERVERFACES_SPEC_PUBLIC-905">JSF spec issue 905</a>
 </ul>
 <p>
 Summarized, it's only <em>immediately</em> invoked when the view is either explicitly changed by a non-null/void
 navigation on a postback, or when the view is explicitly rebuilt by <a href="https://docs.oracle.com/javaee/7/api/javax/faces/context/FacesContext.html?is-external=true#setViewRoot-javax.faces.component.UIViewRoot-" title="class or interface in javax.faces.context"><code>FacesContext.setViewRoot(UIViewRoot)</code></a>.
 It's not <em>immediately</em> invoked on a GET navigation, nor a close of browser tab/window. This CDI view scope
 annotation however guarantees that the <a href="https://docs.oracle.com/javaee/7/api/javax/annotation/PreDestroy.html?is-external=true" title="class or interface in javax.annotation"><code>PreDestroy</code></a> annotated method is also invoked on session expire, while
 JSF 2.0/2.1 doesn't do that (JSF 2.2 does).
 <h3>Configuration</h3>
 <p>
 By default, the maximum number of active view scopes is hold in a LRU map with a default size equal to the first
 non-null value of the following context parameters:
 <ul>
 <li><a href="../../../org/omnifaces/cdi/viewscope/ViewScopeManager.html#PARAM_NAME_MAX_ACTIVE_VIEW_SCOPES">"org.omnifaces.VIEW_SCOPE_MANAGER_MAX_ACTIVE_VIEW_SCOPES"</a> (OmniFaces)</li>
 <li><a href="../../../org/omnifaces/cdi/viewscope/ViewScopeManager.html#PARAM_NAME_MOJARRA_NUMBER_OF_VIEWS">"com.sun.faces.numberOfLogicalViews"</a> (Mojarra-specific)</li>
 <li><a href="../../../org/omnifaces/cdi/viewscope/ViewScopeManager.html#PARAM_NAME_MYFACES_NUMBER_OF_VIEWS">"org.apache.myfaces.NUMBER_OF_VIEWS_IN_SESSION"</a> (MyFaces-specific)</li>
 </ul>
 <p>If none of those context parameters are present, then a default size of
 <a href="../../../org/omnifaces/cdi/viewscope/ViewScopeManager.html#DEFAULT_MAX_ACTIVE_VIEW_SCOPES">20</a> will be used. When a view scoped
 bean is evicted from the LRU map, then its <a href="https://docs.oracle.com/javaee/7/api/javax/annotation/PreDestroy.html?is-external=true" title="class or interface in javax.annotation"><code>PreDestroy</code></a> will also guaranteed to be invoked.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.6</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Radu Creanga &lt;rdcrng@gmail.com&gt;, Bauke Scholtz</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/omnifaces/cdi/viewscope/ViewScopeExtension.html" title="class in org.omnifaces.cdi.viewscope"><code>ViewScopeExtension</code></a>, 
<a href="../../../org/omnifaces/cdi/viewscope/ViewScopeContext.html" title="class in org.omnifaces.cdi.viewscope"><code>ViewScopeContext</code></a>, 
<a href="../../../org/omnifaces/cdi/viewscope/ViewScopeManager.html" title="class in org.omnifaces.cdi.viewscope"><code>ViewScopeManager</code></a>, 
<a href="../../../org/omnifaces/application/ViewScopeEventListener.html" title="class in org.omnifaces.application"><code>ViewScopeEventListener</code></a></dd>
</dl>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ViewScoped.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/omnifaces/cdi/Startup.html" title="annotation in org.omnifaces.cdi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/omnifaces/cdi/ViewScoped.html" target="_top">Frames</a></li>
<li><a href="ViewScoped.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012&#x2013;2015 <a href="http://omnifaces.org">OmniFaces</a>. All rights reserved.</small></p>
</body>
</html>
