<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Eager (OmniFaces 2.3-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Eager (OmniFaces 2.3-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Eager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/omnifaces/cdi/Cookie.html" title="annotation in org.omnifaces.cdi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/omnifaces/cdi/Param.html" title="annotation in org.omnifaces.cdi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/omnifaces/cdi/Eager.html" target="_top">Frames</a></li>
<li><a href="Eager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.omnifaces.cdi</div>
<h2 title="Annotation Type Eager" class="title">Annotation Type Eager</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation">@Documented</a>
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="class or interface in java.lang.annotation">TYPE</a>)
public @interface <span class="memberNameLabel">Eager</span></pre>
<div class="block"><p>
 The CDI annotation <code>&#64;</code><a href="../../../org/omnifaces/cdi/Eager.html" title="annotation in org.omnifaces.cdi"><code>Eager</code></a> specifies that a scoped bean is to be eagerly instantiated.
 <p>
 JSF's own native managed beans are being deprecated in favor of CDI managed beans. One feature that those native JSF
 managed beans had that's not directly available for CDI managed beans is the ability to eagerly instantiate
 application scoped beans.
 <p>
 OmniFaces fills this void and even goes one step further by introducing the <code>@Eager</code> annotation
 that can be applied to <code>@RequestScoped</code>, <code>@ViewScoped</code>,
 <code>@SessionScoped</code> and <code>@ApplicationScoped</code> beans. This causes these beans to be instantiated
 automatically at the start of each such scope instead of on demand when a bean is first referenced.
 <p>
 In case of <code>@RequestScoped</code> and <code>@ViewScoped</code> beans instantiation happens per request URI / view
 and an extra attribute is required for specifying this.

 <h3>Supported scopes</h3>

 <p>
 Currently supported scopes:
 <ol>
 <li> CDI <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/RequestScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>RequestScoped</code></a>
 <li> CDI <a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/ViewScoped.html?is-external=true" title="class or interface in javax.faces.view"><code>ViewScoped</code></a>
 <li> OmniFaces <a href="../../../org/omnifaces/cdi/ViewScoped.html" title="annotation in org.omnifaces.cdi"><code>ViewScoped</code></a>
 <li> CDI <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/SessionScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>SessionScoped</code></a>
 <li> CDI <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/ApplicationScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>ApplicationScoped</code></a>
 </ol>

 <h3>Usage</h3>

 <p>
 E.g.
 The following bean will be instantiated during application's startup:
 <pre>
 &#64;Eager
 &#64;ApplicationScoped
 public class MyEagerApplicationScopedBean {

     &#64;PostConstruct
     public void init() {
         System.out.println("Application scoped init!");
     }
 }
 </pre>
 <p>
 <em>Note: you can also use the stereotype <code>&#64;</code><a href="../../../org/omnifaces/cdi/Startup.html" title="annotation in org.omnifaces.cdi"><code>Startup</code></a> for this instead.</em>
 <p>
 The following bean will be instantiated whenever a session is created:
 <pre>
 &#64;Eager
 &#64;SessionScoped
 public class MyEagerSessionScopedBean implements Serializable {

     private static final long serialVersionUID = 1L;

     &#64;PostConstruct
     public void init() {
         System.out.println("Session scoped init!");
     }
 }
 </pre>
 <p>
 The following bean will be instantiated whenever the URI <code>/components/cache</code> (relatively to the
 application root) is requested, i.e. when an app is deployed to <code>/myapp</code> at localhost this will correspond to
 a URL like <code>http://localhost:8080/myapp/components/cache</code>:
 <pre>
 &#64;Eager(requestURI = "/components/cache")
 &#64;RequestScoped
 public class MyEagerRequestScopedBean {

     &#64;PostConstruct
     public void init() {
         System.out.println("/components/cache requested");
     }
 }
 </pre>

 <h3><code>FacesContext</code> in <code>&#64;PostConstruct</code></h3>

 <p>
 When using <code>&#64;Eager</code> or <code>&#64;Eager(requestURI)</code>, be aware that the <a href="https://docs.oracle.com/javaee/7/api/javax/faces/context/FacesContext.html?is-external=true" title="class or interface in javax.faces.context"><code>FacesContext</code></a> is
 <strong>not</strong> available in the <code>&#64;PostConstruct</code>. Reason is, the <a href="https://docs.oracle.com/javaee/7/api/javax/faces/webapp/FacesServlet.html?is-external=true" title="class or interface in javax.faces.webapp"><code>FacesServlet</code></a> isn't
 invoked yet at the moment <code>&#64;Eager</code> bean is constructed. Only in <code>&#64;Eager(viewId)</code>, the
 <a href="https://docs.oracle.com/javaee/7/api/javax/faces/context/FacesContext.html?is-external=true" title="class or interface in javax.faces.context"><code>FacesContext</code></a> is available in the <code>&#64;PostConstruct</code>.
 <p>
 In case you need information from <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html?is-external=true" title="class or interface in javax.servlet.http"><code>HttpServletRequest</code></a>, <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpSession.html?is-external=true" title="class or interface in javax.servlet.http"><code>HttpSession</code></a> and/or <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet"><code>ServletContext</code></a>, then
 you can just <code>&#64;Inject</code> it right away. Also, all other CDI managed beans are available the usual way
 via <code>&#64;Inject</code>, as long as they do also not depend on <a href="https://docs.oracle.com/javaee/7/api/javax/faces/context/FacesContext.html?is-external=true" title="class or interface in javax.faces.context"><code>FacesContext</code></a> in their
 <code>&#64;PostConstruct</code>.

 <h3>Compatibility</h3>

 <p>
 In some (older) containers, most notably GlassFish 3, the CDI request scope is not available in a <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletRequestListener.html?is-external=true" title="class or interface in javax.servlet"><code>ServletRequestListener</code></a>
 (this is actually not spec complicant, as CDI demands this scope to be active then, but it is what it is).
 <p>
 Additionally in some containers, most notably GlassFish 3 again, instantiating session scoped beans from a <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpSessionListener.html?is-external=true" title="class or interface in javax.servlet.http"><code>HttpSessionListener</code></a>
 will corrupt "something" in the container. The instantiating of the beans will succeed, but if the session is later accessed an
 exception like the following will be thrown:

 <pre>
 java.lang.IllegalArgumentException: Should never reach here
     at org.apache.catalina.connector.SessionTracker.track(SessionTracker.java:168)
     at org.apache.catalina.connector.Request.doGetSession(Request.java:2939)
     at org.apache.catalina.connector.Request.getSession(Request.java:2583)
     at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:920)
     at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:259)
     at com.sun.faces.context.ExternalContextImpl.getSession(ExternalContextImpl.java:155)
     at javax.faces.context.ExternalContextWrapper.getSession(ExternalContextWrapper.java:396)
     at javax.faces.context.ExternalContextWrapper.getSession(ExternalContextWrapper.java:396)
     ...
 </pre>

 If any or both of those problems occur, a filter needs to be installed instead in <code>web.xml</code> as follows:

 <pre>
 &lt;filter&gt;
     &lt;filter-name&gt;eagerBeansFilter&lt;/filter-name&gt;
     &lt;filter-class&gt;org.omnifaces.cdi.eager.EagerBeansFilter&lt;/filter-class&gt;
 &lt;/filter&gt;
 &lt;filter-mapping&gt;
 &lt;filter-name&gt;eagerBeansFilter&lt;/filter-name&gt;
     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
 &lt;/filter-mapping&gt;
</pre>

 <p>
 Note that the <a href="../../../org/omnifaces/cdi/eager/EagerBeansFilter.html" title="class in org.omnifaces.cdi.eager"><code>EagerBeansFilter</code></a> will automatically disable the <a href="../../../org/omnifaces/cdi/eager/EagerBeansWebListener.html" title="class in org.omnifaces.cdi.eager"><code>EagerBeansWebListener</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.8</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Arjan Tijms</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/omnifaces/cdi/eager/EagerExtension.html" title="class in org.omnifaces.cdi.eager"><code>EagerExtension</code></a>, 
<a href="../../../org/omnifaces/cdi/eager/EagerBeansRepository.html" title="class in org.omnifaces.cdi.eager"><code>EagerBeansRepository</code></a>, 
<a href="../../../org/omnifaces/cdi/eager/EagerBeansPhaseListener.html" title="class in org.omnifaces.cdi.eager"><code>EagerBeansPhaseListener</code></a>, 
<a href="../../../org/omnifaces/cdi/eager/EagerBeansWebListener.html" title="class in org.omnifaces.cdi.eager"><code>EagerBeansWebListener</code></a>, 
<a href="../../../org/omnifaces/cdi/eager/EagerBeansFilter.html" title="class in org.omnifaces.cdi.eager"><code>EagerBeansFilter</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/omnifaces/cdi/Eager.html#requestURI--">requestURI</a></span></code>
<div class="block">(Required when combined with <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/RequestScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>RequestScoped</code></a>) The URI (relative to the root of the web app) for which a
 request scoped bean should be instantiated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/omnifaces/cdi/Eager.html#viewId--">viewId</a></span></code>
<div class="block">(Required when combined with <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/RequestScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>RequestScoped</code></a> or <code>ViewScoped</code>) The id of the view for which a request or view scoped bean
 should be instantiated.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="requestURI--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestURI</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;requestURI</pre>
<div class="block">(Required when combined with <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/RequestScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>RequestScoped</code></a>) The URI (relative to the root of the web app) for which a
 request scoped bean should be instantiated. When this attribute is specified the bean will be instantiated very
 early during request processing, namely just before the first Servlet Filter is invoked, but after a SAM.
 <p>
 JSF services will not be available (yet) when the bean is instantiated this way.
 <p>
 If both this attribute and <a href="../../../org/omnifaces/cdi/Eager.html#viewId--"><code>viewId()</code></a> is specified, this attribute takes precedence for <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/RequestScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>RequestScoped</code></a>.
 This attribute <b>can not</b> be used for <code>ViewScoped</code> beans.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The request URI relative to the context root.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="viewId--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>viewId</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;viewId</pre>
<div class="block">(Required when combined with <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/RequestScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>RequestScoped</code></a> or <code>ViewScoped</code>) The id of the view for which a request or view scoped bean
 should be instantiated. When this attribute is specified the bean will be instantiated during invocation of the
 <a href="https://docs.oracle.com/javaee/7/api/javax/faces/webapp/FacesServlet.html?is-external=true" title="class or interface in javax.faces.webapp"><code>FacesServlet</code></a>, namely right after the RESTORE_VIEW phase (see <a href="https://docs.oracle.com/javaee/7/api/javax/faces/event/PhaseId.html?is-external=true#RESTORE_VIEW" title="class or interface in javax.faces.event"><code>PhaseId.RESTORE_VIEW</code></a>).

 <p>
 JSF services are available when the bean is instantiated this way.

 <p>
 If both this attribute and <a href="../../../org/omnifaces/cdi/Eager.html#requestURI--"><code>requestURI()</code></a> is specified and the scope is <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/context/RequestScoped.html?is-external=true" title="class or interface in javax.enterprise.context"><code>RequestScoped</code></a>, the
 <code>requestURI</code> attribute takes precedence. If the scope is <code>ViewScoped</code> <code>requestURI</code> is ignored and only
 this attribute is considered.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The view ID.</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Eager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/omnifaces/cdi/Cookie.html" title="annotation in org.omnifaces.cdi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/omnifaces/cdi/Param.html" title="annotation in org.omnifaces.cdi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/omnifaces/cdi/Eager.html" target="_top">Frames</a></li>
<li><a href="Eager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012&#x2013;2016 <a href="http://omnifaces.org">OmniFaces</a>. All rights reserved.</small></p>
</body>
</html>
