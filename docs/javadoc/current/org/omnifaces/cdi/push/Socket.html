<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Socket (OmniFaces 2.3-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Socket (OmniFaces 2.3-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Socket.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/omnifaces/cdi/push/SocketChannelFilter.html" title="class in org.omnifaces.cdi.push"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/omnifaces/cdi/push/Socket.html" target="_top">Frames</a></li>
<li><a href="Socket.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.omnifaces.cdi.push</div>
<h2 title="Class Socket" class="title">Class Socket</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true" title="class or interface in javax.faces.view.facelets">javax.faces.view.facelets.TagHandler</a></li>
<li>
<ul class="inheritance">
<li>org.omnifaces.cdi.push.Socket</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/FaceletHandler.html?is-external=true" title="class or interface in javax.faces.view.facelets">FaceletHandler</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Socket</span>
extends <a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true" title="class or interface in javax.faces.view.facelets">TagHandler</a></pre>
<div class="block"><p>
 Opens an one-way (server to client) web socket based push connection in client side which can be reached from
 server side via <a href="../../../../org/omnifaces/cdi/PushContext.html" title="interface in org.omnifaces.cdi"><code>PushContext</code></a> interface injected in any CDI/container managed artifact.


 <h3>Configuration</h3>
 <p>
 First enable the web socket endpoint by below boolean context parameter in <code>web.xml</code>:
 <pre>
 &lt;context-param&gt;
     &lt;param-name&gt;org.omnifaces.ENABLE_SOCKET_ENDPOINT&lt;/param-name&gt;
     &lt;param-value&gt;true&lt;/param-value&gt;
 &lt;/context-param&gt;
 </pre>
 <p>
 It will install the <a href="../../../../org/omnifaces/cdi/push/SocketEndpoint.html" title="class in org.omnifaces.cdi.push"><code>SocketEndpoint</code></a> and <a href="../../../../org/omnifaces/cdi/push/SocketChannelFilter.html" title="class in org.omnifaces.cdi.push"><code>SocketChannelFilter</code></a>. Lazy initialization of the endpoint and
 filter is unfortunately not possible across all containers (yet).
 See also <a href="https://java.net/jira/browse/WEBSOCKET_SPEC-211">WS spec issue 211</a>.


 <h3>Usage (client)</h3>
 <p>
 Declare <code>&lt;o:socket&gt;</code> in the view with at least a <code>channel</code> name and an
 <code>onmessage</code> JavaScript listener function.
 <p>
 Here's an example which refers an existing JS listener function.
 <pre>
 &lt;o:socket channel="global" onmessage="socketListener" /&gt;
 </pre>
 <pre>
 function socketListener(message, channel, event) {
     console.log(message);
 }
 </pre>
 <p>
 Here's an example which declares an inline JS listener function.
 <pre>
 &lt;o:socket channel="global" onmessage="function(message) { console.log(message); }" /&gt;
 </pre>
 <p>
 The <code>onmessage</code> JS listener function will be invoked with three arguments:
 <ul>
 <li><code>message</code>: the push message as JSON object.</li>
 <li><code>channel</code>: the channel name, useful in case you intend to have a global listener, or want to manually
 control the close.</li>
 <li><code>event</code>: the raw <a href="https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent"><code>
 MessageEvent</code></a> instance, useful in case you intend to inspect it.</li>
 </ul>
 <p>
 The optional <code>onclose</code> JS listener function can be used to listen on (ab)normal close of a web socket.
 <pre>
 &lt;o:socket ... onclose="socketCloseListener" /&gt;
 </pre>
 <pre>
 function socketCloseListener(code, channel, event) {
     if (code == -1) {
         // Web sockets not supported by client.
     } else if (code != 1000) {
         // Abnormal close reason.
     }
 }
 </pre>
 <p>
 The <code>onclose</code> JS listener function will be invoked with three arguments:
 <ul>
 <li><code>code</code>: the close reason code as integer. If this is <code>-1</code>, then the web socket
 is simply not supported by the client. If this is <code>1000</code>, then it was normally closed. Else if this is not
 <code>1000</code>, then there may be an error. See also
 <a href="http://tools.ietf.org/html/rfc6455#section-7.4.1">RFC 6455 section 7.4.1</a> and <a href="https://docs.oracle.com/javaee/7/api/javax/websocket/CloseReason.CloseCodes.html?is-external=true" title="class or interface in javax.websocket"><code>CloseReason.CloseCodes</code></a> API for
 an elaborate list of all close codes.</li>
 <li><code>channel</code>: the channel name, useful in case you intend to have a global listener.</li>
 <li><code>event</code>: the raw <a href="https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent"><code>
 CloseEvent</code></a> instance, useful in case you intend to inspect it.</li>
 </ul>
 <p>
 In case your server is configured to run WS container on a different TCP port than the HTTP container, then you can
 use the <code>port</code> attribute to explicitly specify the port.
 <pre>
 &lt;o:socket ... port="8000" /&gt;
 </pre>


 <h3>Usage (server)</h3>
 <p>
 In the WAR side (not in EAR/EJB side!), you can inject <a href="../../../../org/omnifaces/cdi/PushContext.html" title="interface in org.omnifaces.cdi"><code>PushContext</code></a> in any CDI/container managed artifact
 such as <code>@Named</code>, <code>@WebServlet</code>, etc wherever you'd like to send a push message and then invoke
 <a href="../../../../org/omnifaces/cdi/PushContext.html#send-java.lang.String-java.lang.Object-"><code>PushContext.send(String, Object)</code></a> with the channel name and any Java object representing the push message.
 <pre>
 &#64;Inject
 private PushContext pushContext;

 public void sendMessage(Object message) {
     pushContext.send("global", message);
 }
 </pre>
 <p>
 The message object will be encoded as JSON and be delivered as <code>message</code> argument of the
 <code>onmessage</code> JavaScript listener function associated with the <code>channel</code> name. It can be a
 plain vanilla <code>String</code>, but it can also be a collection, map and even a javabean. For supported argument
 types, see also <a href="../../../../org/omnifaces/util/Json.html#encode-java.lang.Object-"><code>Json.encode(Object)</code></a>.
 <p>
 The push is one-way, from server to client. In case you intend to send some data from client to server, just continue
 using Ajax the usual way, if necessary with <code>&lt;o:commandScript&gt;</code> or perhaps
 <code>&lt;p:remoteCommand&gt;</code> or similar. This has among others the advantage of maintaining the JSF view
 state, the HTTP session and, importantingly, all security constraints on business service methods. Namely, those are
 not available during an incoming web socket message per se. See also a.o.
 <a href="https://java.net/jira/browse/WEBSOCKET_SPEC-238">WS spec issue 238</a>.


 <h3>Conditionally connecting socket</h3>
 <p>
 You can use the <code>connected</code> attribute for that.
 <pre>
 &lt;o:socket ... connected="#{bean.pushable}" /&gt;
 </pre>
 <p>
 It defaults to <code>true</code> and it's interpreted as a JavaScript instruction whether to open or close the web
 socket push connection. If the value is an EL expression and it becomes <code>false</code> during an ajax request,
 then the push connection will explicitly be closed during oncomplete of that ajax request, even though you did not
 cover the <code>&lt;o:socket&gt;</code> tag in ajax render/update. So make sure it's tied to at least a view scoped
 property in case you intend to control it during the view scope.
 <p>
 You can also explicitly set it to <code>false</code> and manually open the push connection from client side by
 invoking <code>OmniFaces.Push.open(channel)</code>, passing the channel name.
 <pre>
 &lt;o:socket channel="foo" ... connected="false" /&gt;
 </pre>
 <pre>
 function someFunction() {
     // ...
     OmniFaces.Push.open("foo");
 }
 </pre>
 <p>
 The web socket is by default open as long as the document is open. It will be implicitly closed once the document is
 unloaded (e.g. navigating away, close of browser window/tab, etc). In case you intend to have an one-time push,
 usually because you only wanted to present the result of an one-time asynchronous action, you can optionally
 explicitly close the push connection from client side by invoking <code>OmniFaces.Push.close(channel)</code>, passing
 the channel name. For example, in the <code>onmessage</code> JS listener function as below:
 <pre>
 function socketListener(message, channel) {
     // ...
     OmniFaces.Push.close(channel);
 }
 </pre>
 <p>
 Noted should be that both ways should not be mixed. Choose either the server side way of an EL expression in
 <code>connected</code> attribute, or the client side way of explicitly setting <code>connected="false"</code> and
 manually invoking <code>OmniFaces.Push</code> functions. Mixing them may end up in undefined behavior.


 <h3>Channel name design hints</h3>
 <p>
 With the channel name you can less or more specify the desired push scope. With a static channel name, basically
 anyone having a push socket open on the same channel will receive the same push message. This is OK for global push
 messages, but this may not be OK for push messages with sensitive information restricted to specific user(s).
 <p>
 To send a push message to a specific user session, append the session ID to channel ID.
 <pre>
 &lt;o:socket channel="foo_#{session.id}" ... /&gt;
 </pre>
 <pre>
 public void sendMessage(Object message) {
     pushContext.send("foo_" + Faces.getSessionId(), message);
 }
 </pre>
 <p>
 If you intend to send only to a specific page within the specific user session, make sure that the channel name
 prefix is specific to the particular page.
 <pre>
 &lt;o:socket channel="pagename_#{session.id}" ... /&gt;
 </pre>
 <pre>
 public void sendMessage(Object message) {
     pushContext.send("pagename_" + Faces.getSessionId(), message);
 }
 </pre>
 <p>
 Noted should be that the channel name may only contain alphanumeric characters, hyphens, underscores and periods.
 <p>
 Whatever you do, make sure that the user-restricted channel name has an unguessable value, such as the session ID.
 Otherwise people can easily manually open a web socket listening on a guessed channel name. For example, in case you
 intend to push a message to users of only a specific role, then encrypt that role name or map it to an UUID and use
 it in place of the session ID in above examples.
 <p>
 As extra security, the <code>&lt;o:socket&gt;</code> will remember all so far opened channels in the current HTTP
 session and the aforementioned <a href="../../../../org/omnifaces/cdi/push/SocketChannelFilter.html" title="class in org.omnifaces.cdi.push"><code>SocketChannelFilter</code></a> will check all incoming web socket handshake requests
 whether they match the so far opened channels in the current HTTP session, and otherwise send a HTTP 400 error back.


 <h3>EJB design hints</h3>
 <p>
 In case you'd like to trigger a push from EAR/EJB side, you could make use of CDI events. First create a custom bean
 class representing the push event something like <code>PushEvent</code> taking whatever you'd like to pass as push
 message.
 <pre>
 public class PushEvent {

     private String message;

     public PushEvent(String message) {
         this.message = message;
     }

     public String getMessage() {
         return message;
     }
 }
 </pre>
 <p>
 Then use <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/inject/spi/BeanManager.html?is-external=true#fireEvent-java.lang.Object-java.lang.annotation.Annotation...-" title="class or interface in javax.enterprise.inject.spi"><code>BeanManager.fireEvent(Object, java.lang.annotation.Annotation...)</code></a> to fire the CDI event.
 <pre>
 &#64;Inject
 private BeanManager beanManager;

 public void onSomeEntityChange(Entity entity) {
     beanManager.fireEvent(new PushEvent(entity.getSomeProperty()));
 }
 </pre>
 <p>
 Finally just <a href="https://docs.oracle.com/javaee/7/api/javax/enterprise/event/Observes.html?is-external=true" title="class or interface in javax.enterprise.event"><code>Observes</code></a> it in some request or application scoped CDI managed bean in WAR and delegate to
 <a href="../../../../org/omnifaces/cdi/PushContext.html" title="interface in org.omnifaces.cdi"><code>PushContext</code></a> as below.
 <pre>
 &#64;Inject
 private PushContext pushContext;

 public void onPushEvent(@Observes PushEvent event) {
     pushContext.send("someChannel", event.getMessage());
 }
 </pre>
 <p>
 Note that a request scoped bean wouldn't be the same one as from the originating page for the simple reason that
 there's no means of a HTTP request anywhere at that moment. For exactly this reason a view and session scoped bean
 would not work at all (as they require respectively the JSF view state and HTTP session which can only be identified
 by a HTTP request). Also, the <a href="https://docs.oracle.com/javaee/7/api/javax/faces/context/FacesContext.html?is-external=true" title="class or interface in javax.faces.context"><code>FacesContext</code></a> will be unavailable in the method.
 <p>
 The alternative would be to make use of callbacks. Let the business service method take a callback instance as
 argument, e.g <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a>.
 <pre>
 &#64;Asynchronous
 public void someAsyncServiceMethod(Entity entity, Runnable callback) {
     // ... (some long process)
     entity.setSomeProperty(someProperty);
     callback.run();
 }
 </pre>
 <p>
 And invoke the service method as below.
 <pre>
 &#64;Inject
 private SomeService someService;

 &#64;Inject
 private PushContext pushContext;

 public void submit() {
     someService.someAsyncServiceMethod(entity, new Runnable() {
         public void run() {
             pushContext.send("someChannel", entity.getSomeProperty());
         }
     });
 }
 </pre>
 <p>
 This would be the only way in case you intend to pass something from <a href="https://docs.oracle.com/javaee/7/api/javax/faces/context/FacesContext.html?is-external=true" title="class or interface in javax.faces.context"><code>FacesContext</code></a> or the initial
 request/view/session scope along as (<code>final</code>) argument.
 <p>
 Note that OmniFaces own <a href="../../../../org/omnifaces/util/Callback.html" title="class in org.omnifaces.util"><code>Callback</code></a> interfaces are insuitable as you're not supposed to use WAR (front end)
 frameworks and libraries like JSF and OmniFaces in EAR/EJB (back end) side.
 <p>
 In case you're already on Java 8, of course make use of the <code>Consumer</code> functional interface.
 <pre>
 &#64;Asynchronous
 public void someAsyncServiceMethod(Entity entity, Consumer&lt;Object&gt; callback) {
     // ... (some long process)
     callback.accept(entity.getSomeProperty());
 }
 </pre>
 <pre>
 public void submit() {
     someService.someAsyncServiceMethod(entity, message -&gt; pushContext.send("someChannel", message);
 }
 </pre>


 <h3>UI update design hints</h3>
 <p>
 In case you'd like to perform complex UI updates, which would be a piece of cake with JSF ajax, then easiest would
 be to combine <code>&lt;o:socket&gt;</code> with <code>&lt;o:commandScript&gt;</code>which simply invokes a bean
 action and ajax-updates the UI once a push message arrives. The combination can look like below:
 <pre>
 &lt;h:panelGroup id="foo"&gt;
     ... (some complex UI here) ...
 &lt;/h:panelGroup&gt;

 &lt;o:socket channel="someChannel" onmessage="someCommandScript" /&gt;
 &lt;o:commandScript name="someCommandScript" action="#{bean.pushed}" render="foo" /&gt;
 </pre>
 <p>
 If you pass a <code>Map&lt;String,V&gt;</code> or a JavaBean as push message object, then all entries/properties will
 transparently be available as request parameters in the command script method <code>#{bean.pushed}</code>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.3</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Bauke Scholtz</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/omnifaces/cdi/push/SocketEndpoint.html" title="class in org.omnifaces.cdi.push"><code>SocketEndpoint</code></a>, 
<a href="../../../../org/omnifaces/cdi/push/SocketChannelFilter.html" title="class in org.omnifaces.cdi.push"><code>SocketChannelFilter</code></a>, 
<a href="../../../../org/omnifaces/cdi/push/SocketEventListener.html" title="class in org.omnifaces.cdi.push"><code>SocketEventListener</code></a>, 
<a href="../../../../org/omnifaces/cdi/push/SocketPushContext.html" title="class in org.omnifaces.cdi.push"><code>SocketPushContext</code></a>, 
<a href="../../../../org/omnifaces/cdi/PushContext.html" title="interface in org.omnifaces.cdi"><code>PushContext</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/omnifaces/cdi/push/Socket.html#PARAM_ENABLE_SOCKET_ENDPOINT">PARAM_ENABLE_SOCKET_ENDPOINT</a></span></code>
<div class="block">The boolean context parameter name to register web socket endpoint during startup.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.javax.faces.view.facelets.TagHandler">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;javax.faces.view.facelets.<a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true" title="class or interface in javax.faces.view.facelets">TagHandler</a></h3>
<code><a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true#nextHandler" title="class or interface in javax.faces.view.facelets">nextHandler</a>, <a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true#tag" title="class or interface in javax.faces.view.facelets">tag</a>, <a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true#tagId" title="class or interface in javax.faces.view.facelets">tagId</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/omnifaces/cdi/push/Socket.html#Socket-javax.faces.view.facelets.TagConfig-">Socket</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagConfig.html?is-external=true" title="class or interface in javax.faces.view.facelets">TagConfig</a>&nbsp;config)</code>
<div class="block">The tag constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/omnifaces/cdi/push/Socket.html#apply-javax.faces.view.facelets.FaceletContext-javax.faces.component.UIComponent-">apply</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/FaceletContext.html?is-external=true" title="class or interface in javax.faces.view.facelets">FaceletContext</a>&nbsp;context,
     <a href="https://docs.oracle.com/javaee/7/api/javax/faces/component/UIComponent.html?is-external=true" title="class or interface in javax.faces.component">UIComponent</a>&nbsp;parent)</code>
<div class="block">First check if the web socket endpoint is enabled in <code>web.xml</code> and the channel name is valid, then
 subcribe the <a href="../../../../org/omnifaces/cdi/push/SocketEventListener.html" title="class in org.omnifaces.cdi.push"><code>SocketEventListener</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/omnifaces/cdi/push/Socket.html#registerEndpointAndFilterIfNecessary-javax.servlet.ServletContext-">registerEndpointAndFilterIfNecessary</a></span>(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</a>&nbsp;context)</code>
<div class="block">Register web socket endpoint and channel filter if necessary, i.e.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.javax.faces.view.facelets.TagHandler">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.faces.view.facelets.<a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true" title="class or interface in javax.faces.view.facelets">TagHandler</a></h3>
<code><a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true#getAttribute-java.lang.String-" title="class or interface in javax.faces.view.facelets">getAttribute</a>, <a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true#getRequiredAttribute-java.lang.String-" title="class or interface in javax.faces.view.facelets">getRequiredAttribute</a>, <a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagHandler.html?is-external=true#toString--" title="class or interface in javax.faces.view.facelets">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="PARAM_ENABLE_SOCKET_ENDPOINT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PARAM_ENABLE_SOCKET_ENDPOINT</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> PARAM_ENABLE_SOCKET_ENDPOINT</pre>
<div class="block">The boolean context parameter name to register web socket endpoint during startup.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.omnifaces.cdi.push.Socket.PARAM_ENABLE_SOCKET_ENDPOINT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Socket-javax.faces.view.facelets.TagConfig-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Socket</h4>
<pre>public&nbsp;Socket(<a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/TagConfig.html?is-external=true" title="class or interface in javax.faces.view.facelets">TagConfig</a>&nbsp;config)</pre>
<div class="block">The tag constructor. It will extract and validate the attributes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>config</code> - The tag config.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="apply-javax.faces.view.facelets.FaceletContext-javax.faces.component.UIComponent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>apply</h4>
<pre>public&nbsp;void&nbsp;apply(<a href="https://docs.oracle.com/javaee/7/api/javax/faces/view/facelets/FaceletContext.html?is-external=true" title="class or interface in javax.faces.view.facelets">FaceletContext</a>&nbsp;context,
                  <a href="https://docs.oracle.com/javaee/7/api/javax/faces/component/UIComponent.html?is-external=true" title="class or interface in javax.faces.component">UIComponent</a>&nbsp;parent)
           throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">First check if the web socket endpoint is enabled in <code>web.xml</code> and the channel name is valid, then
 subcribe the <a href="../../../../org/omnifaces/cdi/push/SocketEventListener.html" title="class in org.omnifaces.cdi.push"><code>SocketEventListener</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - When the web socket endpoint is not enabled in <code>web.xml</code>.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - When the channel name is invalid.
 It may only contain alphanumeric characters, hyphens, underscores and periods.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="registerEndpointAndFilterIfNecessary-javax.servlet.ServletContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>registerEndpointAndFilterIfNecessary</h4>
<pre>public static&nbsp;void&nbsp;registerEndpointAndFilterIfNecessary(<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</a>&nbsp;context)</pre>
<div class="block">Register web socket endpoint and channel filter if necessary, i.e. when it's enabled via context param and not
 already installed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - The involved servlet context.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Socket.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/omnifaces/cdi/push/SocketChannelFilter.html" title="class in org.omnifaces.cdi.push"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/omnifaces/cdi/push/Socket.html" target="_top">Frames</a></li>
<li><a href="Socket.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012&#x2013;2015 <a href="http://omnifaces.org">OmniFaces</a>. All rights reserved.</small></p>
</body>
</html>
